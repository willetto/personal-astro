---
// Assets
import { Image } from "astro:assets";
import LimeStripe from "@/images/assets/LimeStripe.png";
import { Code } from "astro:components";
import VisualAsset1 from "@/components/assets/VisualAsset1.astro";
// Fundations
import Link from "@/components/foundations/elements/Link.astro";
import Text from "@/components/foundations/elements/Text.astro";
import Wrapper from "@/components/foundations/containers/Wrapper.astro";
// Icons
import ChevronRight from "@/components/foundations/icons/ChevronRight.astro";

interface Props { feature?: import("@/data/sanity").Hero }
const { feature } = Astro.props as Props;

const header = feature?.header || "Powerful financial APIs for tech innovators";
const subheading = feature?.subheading || "Seamless, scalable infrastructure for managing funds store, transfer, and reconcile money with ease.";

const primaryLabel = feature?.primaryCtaLabel || "Get started";
const primaryHref = feature?.primaryCtaHref || "/forms/sign-up";
const primaryTarget = feature?.primaryCtaTarget || "";
const primaryRel = primaryTarget === "_blank" ? "noopener noreferrer" : undefined;

const secondaryLabel = feature?.secondaryCtaLabel || "Contact sales";
const secondaryHref = feature?.secondaryCtaHref || "/forms/contact";
const secondaryTarget = feature?.secondaryCtaTarget || "";
const secondaryRel = secondaryTarget === "_blank" ? "noopener noreferrer" : undefined;
---

<section class="hero-1 relative overflow-hidden">
  <Wrapper
    variant="standard"
    class="relative z-20 py-32 lg:pb-80 overflow-hidden"
  >
    <Image
      src={LimeStripe}
      alt="Lime Stripe"
      class="absolute inset-0 size-full pointer-events-none scale-180 rotate-x-170 top-100"
    />

    <div class="relative">
      <Text
        tag="h1"
        variant="display2XL"
        data-aos="fade-up"
        data-aos-duration="1000"
        class="font-semibold tracking-tighter text-base-800 lg:text-balance"
      >
        {header}
      </Text>
      <Text
        tag="p"
        variant="textLG"
        data-aos="fade-up"
        data-aos-duration="1500"
        class="max-w-lg mt-4 font-medium text-base-800 md:text-balance"
      >
        {subheading}
      </Text>
      <div
        data-aos="fade-up"
        data-aos-duration="2000"
        class="flex items-center mt-12 gap-2"
      >
        <Link
          size="base"
          variant="default"
          href={primaryHref}
          target={primaryTarget}
          rel={primaryRel}
          gap="xs"
          class="group"
        >
          {primaryLabel}
          <ChevronRight
            size="sm"
            class="duration-300 easy-out-in group-hover:translate-x-2"
          />
        </Link>
        <Link
          size="base"
          variant="muted"
          href={secondaryHref}
          target={secondaryTarget}
          rel={secondaryRel}
          gap="xs"
          class="group"
        >
          {secondaryLabel}
          <ChevronRight
            size="sm"
            class="duration-300 easy-out-in group-hover:translate-x-2"
          />
        </Link>
      </div>
    </div>
  </Wrapper>
</section>
<section>
  <Wrapper variant="standard" class="pt-24">
    <div
      class="z-40 items-start -mt-40 grid grid-cols-1 gap-12 lg:-mt-80 lg:grid-cols-2 lg:gap-24"
    >
      <Code
        data-aos="fade-up"
        data-aos-duration="2000"
        class="z-40 h-full p-8 text-xs scrollbar-hide rounded-xl shadow-xl"
        code={`await payments.transfer.create({
amount: 25075,
currency: "USD",
from_account: {
  id: "acct_everbank_112233445",
  bank: "EverBank",
  type: "Business Checking",
},
to_account: {
  id: "acct_chase_556677889",
  bank: "Chase",
  type: "Savings",
},
initiated_at: "2025-03-14T14:32:00Z",
status: "Pending",
});`}
        lang="js"
        theme="css-variables"
      />
      <VisualAsset1
        data-aos="fade-up"
        data-aos-duration="2500"
        class="z-40 h-full p-8 overflow-hidden bg-white rounded-xl outline-1 outline-base-200 shadow-xl"
      />
    </div>
  </Wrapper>
</section>
