---
// Icons
import Plus from "@/components/foundations/icons/Plus.astro";
import Minus from "@/components/foundations/icons/Minus.astro";
import QuestionMark from "@/components/foundations/icons/QuestionMark.astro";

// Fundations
import Text from "@/components/foundations/elements/Text.astro";
import Wrapper from "@/components/foundations/containers/Wrapper.astro";

// FAQ Data Array
const faqs = [
  {
    question: "What types of accounts does your bank offer?",
    answer:
      "We offer savings accounts, checking accounts, business accounts, and fixed deposit options to meet various financial needs.",
  },
  {
    question: "How can I improve my credit score?",
    answer:
      "Make timely payments, keep credit utilization low, and avoid opening too many new accounts at once to maintain a strong credit score.",
  },
  {
    question: "What should I do if I notice an unauthorized transaction?",
    answer:
      "Immediately report the transaction through your banking app or contact customer support to secure your account and dispute the charge.",
  },
  {
    question: "How do I reset my online banking password?",
    answer:
      "Go to the login page, select 'Forgot Password,' and follow the instructions to securely reset your credentials.",
  },
  {
    question: "What are the benefits of online banking?",
    answer:
      "Online banking allows you to check balances, transfer funds, pay bills, and manage your accounts anytime, anywhere with enhanced security.",
  },
  {
    question: "How do I deposit a check using mobile banking?",
    answer:
      "Use our mobile banking app, select 'Deposit Check,' take a photo of the front and back of the check, and follow the on-screen instructions.",
  },
  {
    question: "Is my money safe with online banking?",
    answer:
      "Yes, we use advanced encryption, two-factor authentication, and fraud detection systems to protect your funds and personal information.",
  },
  {
    question: "What fees are associated with my account?",
    answer:
      "Our accounts have minimal fees. You can review specific charges for overdrafts, wire transfers, and ATM usage in our fee schedule.",
  },
];
---

<section>
  <Wrapper variant="standard" class="py-12 lg:py-24">
    <div class="items-start grid grid-cols-1 gap-12 lg:grid-cols-3 lg:gap-24">
      <div>
        <Text
          class="span"
          variant="textXS"
          data-aos="fade-down"
          data-aos-duration="1000"
          class="flex items-center font-medium uppercase text-base-600 gap-2"
        >
          <QuestionMark size="sm" class="text-yellow-600" />
          FAQ
        </Text>
        <Text
          tag="h3"
          variant="displayMD"
          data-aos="fade-up"
          data-aos-duration="1000"
          class="mt-8 font-semibold tracking-tight text-base-800 lg:text-balance"
        >
          Frequently Asked Questions
        </Text>
        <Text
          tag="p"
          variant="textBase"
          data-aos="fade-up"
          data-aos-duration="1500"
          class="mt-2 text-base text-base-500"
        >
          Find answers to the most common questions about our services and
          features.
        </Text>
      </div>
      <div
        class="flex flex-col p-4 mt-8 bg-white shadow-2xl rounded-2xl gap-2 outline outline-base-200 lg:col-span-2"
      >
        {
          faqs.map((faq, index) => (
            <div class="p-3 rounded-lg bg-base-50 ">
              <button
                class="flex items-center justify-between w-full font-medium text-left faq-toggle  text-base-700"
                data-index={index}
              >
                <Text
                  tag="h3"
                  variant="textBase"
                  class="font-semibold text-base-800"
                >
                  {faq.question}
                </Text>
                <div class="p-2 bg-teal-400 rounded-lg transition-all duration-300 text-base-800 group-hover:bg-base-800 group-hover:text-white">
                  <span
                    class="faq-icon transition-transform duration-300"
                    data-state="collapsed"
                  >
                    <Plus size="base" class="icon-plus" />
                    <Minus size="base" class="hidden icon-minus" />
                  </span>
                </div>
              </button>
              <Text
                variant="textSM"
                class="overflow-hidden faq-answer text-base-600 max-h-0 transition-all duration-500"
              >
                {faq.answer}
              </Text>
            </div>
          ))
        }
      </div>
    </div>
  </Wrapper>

  <script type="module">
    document.addEventListener("DOMContentLoaded", () => {
      document.querySelectorAll(".faq-toggle").forEach((button) => {
        button.addEventListener("click", () => {
          const answer = button.nextElementSibling;
          const iconPlus = button.querySelector(".icon-plus");
          const iconMinus = button.querySelector(".icon-minus");

          if (answer.style.maxHeight && answer.style.maxHeight !== "0px") {
            answer.style.maxHeight = "0px";
            iconPlus.classList.remove("hidden");
            iconMinus.classList.add("hidden");
          } else {
            answer.style.maxHeight = answer.scrollHeight + "px";
            iconPlus.classList.add("hidden");
            iconMinus.classList.remove("hidden");
          }
        });
      });
    });
  </script>
</section>
